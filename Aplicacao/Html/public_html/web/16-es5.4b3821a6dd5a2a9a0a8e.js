(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{PtgH:function(t,e,a){"use strict";a.r(e);var r=a("mrSG"),n=a("s7LF"),o=a("8Y7J"),i=a("TKFM"),s=a("Jm54"),l=a("9WgB"),m=a("iInd"),d=a("/mjz"),c=a("QktW"),u=a("KRgJ"),p=a("Xd0L");class g extends p.s{parse(t){if("string"==typeof t&&t.indexOf("/")>-1){const e=t.split("/"),a=Number(e[2]),r=Number(e[1])-1,n=Number(e[0]);return new Date(a,r,n)}const e="number"==typeof t?t:Date.parse(t);return isNaN(e)?null:new Date(e)}format(t,e){if("input"==e){let e=t.getDate(),a=t.getMonth()+1,r=t.getFullYear();return this._to2digit(e)+"/"+this._to2digit(a)+"/"+r}if("inputMonth"==e){let e=t.getMonth()+1,a=t.getFullYear();return this._to2digit(e)+"/"+a}return t.toDateString()}_to2digit(t){return("00"+t).slice(-2)}}let f=class{constructor(t,e,a,r,n){this.toastService=t,this.router=e,this.appService=a,this.dialogErroService=r,this.indicatorService=n}ngOnInit(){this.atualizarCadastroForm=new n.c({nomeCompleto:new n.b("",[n.k.required,n.k.minLength(3),n.k.maxLength(50)]),timeCoracao:new n.b("",[n.k.required,n.k.minLength(3),n.k.maxLength(30)]),telefone:new n.b("",[n.k.maxLength(15)]),dataNascimento:new n.b("",[n.k.required,n.k.minLength(10)])})}submit(){if(this.atualizarCadastroForm.valid)if(this.verificaDataNascimento()){const t=this.preencheUsuario();this.enviaAtualizacaoUsuario(t)}else{const t="OPS. A idade m\xednima para jogar \xe9 de 6 anos.";this.toastService.showToast(t)}}verificaDataNascimento(){const t=new Date,e=t.getMonth()+1+"-"+t.getDate()+"-"+(t.getFullYear()+i.a.QUANTIDADE_ANOS_IDADE_MINIMA),a=new Date(e),r=this.atualizarCadastroForm.get("dataNascimento").value;let n=!1;return a.getTime()>=r.getTime()&&(n=!0),n}preencheUsuario(){const t=this.atualizarCadastroForm.get("dataNascimento").value,e=t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" 03:00:00";return{idUsuario:s.a.getIdUsuarioTokenJWT(),nome:this.atualizarCadastroForm.get("nomeCompleto").value,timeCoracao:this.atualizarCadastroForm.get("timeCoracao").value,telefone:this.atualizarCadastroForm.get("telefone").value,dataNascimento:e}}enviaAtualizacaoUsuario(t){this.appService.putAtualizarUsuario(t).subscribe(e=>{e.headers.get(i.a.AUTHORIZATION)&&s.a.setItemSessionStorage(i.a.AUTHORIZATION,e.headers.get(i.a.AUTHORIZATION)),this.toastService.showToast(e.body),this.alteraNomeRanking(t.nome),this.router.navigate(["tool/perfil-usuario"])},t=>{this.dialogErroService.showMensagemErroDialog(t)})}numberOnly(t){const e=t.which?t.which:t.keyCode;return!(e>31&&(e<48||e>57))}alteraNomeRanking(t){const e=s.a.getItemSessionStorage(i.a.USUARIO_RANKING_SELECIONADO);if(e){const a=JSON.parse(e);a.nomeUsuario=t,s.a.setItemSessionStorage(i.a.USUARIO_RANKING_SELECIONADO,JSON.stringify(a)),this.salvaDadosUsuarioSession(t)}}salvaDadosUsuarioSession(t){const e=JSON.parse(s.a.getItemSessionStorage(i.a.INFOS_USUARIO_LOGADO));e.nome=t,s.a.setItemSessionStorage(i.a.INFOS_USUARIO_LOGADO,JSON.stringify(e)),this.indicatorService.setSalvaDadosUsuarioLogado(i.a.SALVA_TODOS)}};f.ctorParameters=()=>[{type:l.a},{type:m.f},{type:d.a},{type:c.a},{type:u.a}],f=r.b([Object(o.o)({selector:"app-atualizar-cadastro",template:r.c(a("QWd/")).default,providers:[{provide:p.a,useClass:g},{provide:p.d,useValue:{parse:{dateInput:{month:"short",year:"numeric",day:"numeric"}},display:{dateInput:"input",monthYearLabel:"inputMonth",dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}}}],styles:[r.c(a("gUVr")).default]})],f);const h=[{path:"",component:f}];let b=class{};b=r.b([Object(o.L)({imports:[m.g.forChild(h)],exports:[m.g]})],b);var v=a("vWh4"),S=a("SVse");a.d(e,"AtualizarCadastroModule",(function(){return I}));let I=class{};I=r.b([Object(o.L)({declarations:[f],imports:[S.b,b,v.a,n.e,n.j]})],I)},"QWd/":function(t,e,a){"use strict";a.r(e),e.default='<div class="min-height-500">\r\n  <div class="row margin-top-10">\r\n    <div class="col-lg-3 col-md-2 col-sm-2"></div>\r\n    <div class="col-lg-6 col-md-8 col-sm-8 click">\r\n\r\n      <mat-card>\r\n        <mat-card-content class="font-size-16">\r\n          <div class="card-form">\r\n            <form [formGroup]="atualizarCadastroForm" (ngSubmit)="submit()">\r\n              <p>\r\n                <mat-form-field>\r\n                  <mat-label>Nome completo</mat-label>\r\n                  <input type="text" matInput placeholder="Ex. Manoel de Abreu" formControlName="nomeCompleto" maxlength="50" />\r\n                  <mat-error *ngIf="atualizarCadastroForm.controls.nomeCompleto.invalid"><strong>Informe seu nome</strong></mat-error>\r\n                </mat-form-field>\r\n              </p>\r\n\r\n              <p>\r\n                <mat-form-field>\r\n                  <mat-label>Time do cora\xe7\xe3o</mat-label>\r\n                  <input type="text" matInput placeholder="Ex. Juventus" formControlName="timeCoracao" maxlength="30"/>\r\n                  <mat-error *ngIf="atualizarCadastroForm.controls.timeCoracao.invalid"><strong>Informe seu time do cora\xe7\xe3o</strong></mat-error>\r\n                </mat-form-field>\r\n              </p>\r\n\r\n              <p>\r\n                <mat-form-field>\r\n                  <mat-label>Telefone</mat-label>\r\n                  <input matInput placeholder="Somente n\xfameros" formControlName="telefone" maxlength="15" (keypress)="numberOnly($event)"/>\r\n                  <mat-error *ngIf="atualizarCadastroForm.controls.telefone.invalid"><strong>Informe seu telefone</strong></mat-error>\r\n                </mat-form-field>\r\n              </p>\r\n\r\n              <p>\r\n                <mat-form-field>\r\n                  <mat-label>Data de nascimento</mat-label>\r\n                  <input matInput placeholder="dd/mm/yyyy" formControlName="dataNascimento" [matDatepicker]="picker" maxlength="10"/>\r\n                  <mat-datepicker-toggle matSuffix [for]="picker" class="material-icons"></mat-datepicker-toggle>\r\n                  <mat-datepicker touchUi #picker disabled="false"></mat-datepicker>\r\n                  <mat-error *ngIf="atualizarCadastroForm.controls.dataNascimento.invalid"><strong>Informe sua data de nascimento</strong></mat-error>\r\n                </mat-form-field>\r\n              </p>\r\n\r\n              <div class="button">\r\n                <button type="submit" mat-raised-button class="button-enviar" [disabled]="!atualizarCadastroForm.valid">\r\n                  <mat-icon>send</mat-icon>\r\n                  <label class="label-button">ENVIAR</label>\r\n                </button>\r\n              </div>\r\n            </form>\r\n            </div>\r\n        </mat-card-content>\r\n      </mat-card>\r\n\r\n    </div>\r\n    <div class="col-lg-3 col-md-2 col-sm-2"></div>\r\n  </div>\r\n</div>\r\n'},gUVr:function(t,e,a){"use strict";a.r(e),e.default=".mat-form-field {\r\n  width: 100%;\r\n}\r\n\r\n.button-enviar {\r\n  background-color: #D6D8D7;\r\n  width: 100%;\r\n  border-radius: 23px;\r\n  border: 2px solid #888888;\r\n}\r\n\r\n.button-enviar .mat-icon{\r\n  float: left;\r\n  margin-top: 10px;\r\n}\r\n\r\n.button-enviar .label-button{\r\n  margin: 3px;\r\n}\r\n\r\n::ng-deep .mat-form-field-appearance-legacy .mat-form-field-label {\r\n  color: white !important;\r\n}\r\n\r\n::ng-deep .mat-form-field-appearance-legacy .mat-form-field-underline {\r\n  background-color: white !important;\r\n}\r\n\r\n::ng-deep .mat-form-field.mat-focused .mat-form-field-ripple {\r\n  background-color: #FAFAFA !important;\r\n}\r\n\r\n::ng-deep .mat-form-field.mat-focused .mat-form-field-label {\r\n  color: #FAFAFA !important;\r\n}\r\n\r\n::ng-deep .mat-datepicker-toggle {\r\n  color: white;\r\n}\r\n"}}]);