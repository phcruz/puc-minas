(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"6uY/":function(a,t,r){"use strict";r.r(t);var i=r("mrSG"),e=r("8Y7J"),s=r("/mjz"),o=r("TKFM"),l=r("QktW"),n=r("Jm54"),c=r("5BJY"),d=r("9WgB"),v=r("iInd"),g=r("KRgJ");let m=class{constructor(a,t,r,i,e,s){this.appService=a,this.router=t,this.dialogErroService=r,this.dialogConfirmacaoService=i,this.toastService=e,this.indicatorService=s,this.listaAvatar=[]}ngOnInit(){this.getListaAvatares(o.a.INICIO_BUSCA,!0),this.ouvinteVerificaRolagemPagina()}getListaAvatares(a,t){this.appService.getAvatares(a).subscribe(a=>{const r=a.body;t&&(this.listaAvatar=[]),r.length<30&&this.listaAvatar.length>0&&this.toastService.showToast("Lista de avatares completa"),r.forEach(a=>{this.listaAvatar.push({idAvatar:a.idAvatar,descricao:a.descricao,urlImagem:a.urlImagem,dataCadastro:a.dataCadastro,ativo:a.ativo})})},a=>{this.dialogErroService.showMensagemErroDialog(a)})}alterarAvatar(a){this.dialogConfirmacaoService.openDialog("Deseja realmente alterar seu avatar?",""),this.dialogConfirmacaoService.confirmed().subscribe(t=>{t&&this.realizaAlteracaoAvatar(a.idAvatar,a.urlImagem)})}realizaAlteracaoAvatar(a,t){const r=n.a.getInfosUsuarioLogado(o.a.PROPERT_ID_USUARIO_LOGADO);this.appService.putAtualizaAvatarUsuario(a,r).subscribe(a=>{this.toastService.showToast(a.body),this.alteraRankingUsuarioSelecionado(t)},a=>{this.dialogErroService.showMensagemErroDialog(a)})}alteraRankingUsuarioSelecionado(a){const t=n.a.getItemSessionStorage(o.a.USUARIO_RANKING_SELECIONADO);t&&(this.valueRanking=JSON.parse(t),this.valueRanking.urlImagem=a,n.a.setItemSessionStorage(o.a.USUARIO_RANKING_SELECIONADO,JSON.stringify(this.valueRanking)),n.a.setItemSessionStorage(o.a.AVATAR_USUARIO_LOGADO,a),this.indicatorService.setSalvaDadosUsuarioLogado(o.a.SALVA_AVATAR),this.router.navigate(["tool/perfil-usuario"]))}ouvinteVerificaRolagemPagina(){this.indicatorService.realizaChamadaScroll.subscribe(a=>{a&&"/tool/alterar-avatar"===a&&this.getListaAvatares(this.listaAvatar.length,!1)})}};m.ctorParameters=()=>[{type:s.a},{type:v.f},{type:l.a},{type:c.a},{type:d.a},{type:g.a}],m=i.b([Object(e.o)({selector:"app-alterar-avatar",template:i.c(r("M2BP")).default,styles:[i.c(r("acNi")).default]})],m);const h=[{path:"",component:m}];let u=class{};u=i.b([Object(e.L)({imports:[v.g.forChild(h)],exports:[v.g]})],u);var A=r("vWh4"),p=r("SVse");r.d(t,"AlterarAvatarModule",(function(){return S}));let S=class{};S=i.b([Object(e.L)({declarations:[m],imports:[p.b,u,A.a]})],S)},M2BP:function(a,t,r){"use strict";r.r(t),t.default='<div class="min-height-500">\r\n  <div class="row">\r\n    <div class="col-lg-3 col-md-2 col-sm-2"></div>\r\n    <div class="col-lg-6 col-md-8 col-sm-8">\r\n\r\n      <div class="row text-align-center">\r\n        <div class="col-6 margin-top-10 padding-left-right-5" *ngFor="let item of listaAvatar">\r\n          <mat-card class="click" (click)="alterarAvatar(item)">\r\n            <mat-card-content class="font-size-16">\r\n              <div class="row">\r\n                <div class="col-12">\r\n                  <img src="{{item.urlImagem}}" class="img-110">\r\n                </div>\r\n              </div>\r\n              <div class="row">\r\n                <div class="col-12">\r\n                  <label>{{item.descricao}}</label>\r\n                </div>\r\n              </div>\r\n            </mat-card-content>\r\n          </mat-card>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n    <div class="col-lg-3 col-md-2 col-sm-2"></div>\r\n  </div>\r\n  <div *ngIf="listaAvatar.length === 0">\r\n    <div class="row">\r\n      <div class="col-lg-3 col-md-2 col-sm-2"></div>\r\n      <div class="col-lg-6 col-md-8 col-sm-8">\r\n        <div class="div-label-tabs">\r\n          <label>Nenhum avatar dispon\xedvel</label>\r\n        </div>\r\n      </div>\r\n      <div class="col-lg-3 col-md-2 col-sm-2"></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'},acNi:function(a,t,r){"use strict";r.r(t),t.default=".text-align-center {\r\n  text-align: center;\r\n  margin: 1px;\r\n}\r\n\r\n.padding-left-right-5 {\r\n  padding-right: 5px;\r\n  padding-left: 5px;\r\n}\r\n"}}]);