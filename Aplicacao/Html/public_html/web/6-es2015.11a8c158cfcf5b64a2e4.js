(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"/dgT":function(r,e,a){"use strict";a.r(e),e.default='<div class="container">\r\n  <div class="row">\r\n    <div class="col-md-3 col-sm-1"></div>\r\n    <div class="col-md-6 col-sm-10" @Fading (click)="moverPainel(\'#painelCadastro\')" id="painelCadastro">\r\n      <mat-card class="card-backgroud">\r\n        <div class="div-center">\r\n          <img class="card-image" src="assets/img/logo_app_1.png" />\r\n        </div>\r\n        <mat-card-title class="card-title">Cadastro</mat-card-title>\r\n        <mat-card-content>\r\n          <div class="card-form">\r\n            <form [formGroup]="cadastroForm" (ngSubmit)="submit()">\r\n              <p>\r\n                <mat-form-field>\r\n                  <input type="text" matInput placeholder="Nome completo" formControlName="nome" maxlength="50"/>\r\n                  <mat-error *ngIf="cadastroForm.controls.nome.invalid"><strong>Informe seu nome</strong></mat-error>\r\n                </mat-form-field>\r\n              </p>\r\n\r\n              <p>\r\n                <mat-form-field>\r\n                  <input type="email" matInput placeholder="Email" formControlName="email" maxlength="40"/>\r\n                  <mat-error *ngIf="cadastroForm.controls.email.invalid"><strong>Informe um e-mail v\xe1lido</strong>\r\n                  </mat-error>\r\n                </mat-form-field>\r\n              </p>\r\n\r\n              <p>\r\n                <mat-form-field>\r\n                  <input type="password" matInput placeholder="Senha" formControlName="senha" maxlength="12"/>\r\n                  <mat-error *ngIf="cadastroForm.controls.senha.invalid"><strong>A senha deve ter de 6 a 12 caracteres, com letras e n\xfameros</strong></mat-error>\r\n                </mat-form-field>\r\n              </p>\r\n\r\n              <p>\r\n                <mat-form-field>\r\n                  <input type="password" matInput placeholder="Confirme a senha" formControlName="senhaConfirmacao" maxlength="12"/>\r\n                  <mat-error *ngIf="cadastroForm.controls.senha.invalid"><strong>A senha deve ter de 6 a 12 caracteres, com letras e n\xfameros</strong></mat-error>\r\n                </mat-form-field>\r\n              </p>\r\n\r\n              <div class="button">\r\n                <button type="submit" mat-button class="card-button">CADASTRAR</button>\r\n              </div>\r\n            </form>\r\n\r\n            <div class="div-center">\r\n              <a routerLink="/login" class="card-button-link"><button mat-button class="card-button-link">Voltar</button></a>\r\n            </div>\r\n\r\n          </div>\r\n        </mat-card-content>\r\n      </mat-card>\r\n    </div>\r\n    <div class="col-md-3 col-sm-1"></div>\r\n  </div>\r\n</div>\r\n'},"2xf1":function(r,e,a){"use strict";a.r(e);var n=a("mrSG"),t=a("8Y7J"),o=a("GS7A"),i=a("s7LF"),s=a("EVdn"),m=a("Jm54"),l=a("TKFM"),d=a("r8II"),c=a("iInd"),f=a("9WgB"),u=a("/mjz"),p=a("QktW"),g=a("5BJY");let h=class{constructor(r,e,a,n,t){this.router=r,this.appService=e,this.toastService=a,this.dialogErroService=n,this.dialogConfirmacao=t,this.urlPlanoFundo=""}ngOnInit(){this.getPlanoFundo(),this.cadastroForm=new i.c({nome:new i.b("",[i.k.required,i.k.minLength(3),i.k.maxLength(50)]),email:new i.b("",[i.k.required,i.k.email]),senha:new i.b("",[i.k.required,i.k.minLength(6),i.k.maxLength(12),i.k.pattern("^(?!^[0-9]*$)(?!^[a-zA-Z]*$)^([a-zA-Z0-9]{6,18})$")]),senhaConfirmacao:new i.b("",[i.k.required,i.k.minLength(6),i.k.maxLength(12),i.k.pattern("^(?!^[0-9]*$)(?!^[a-zA-Z]*$)^([a-zA-Z0-9]{6,18})$")])})}submit(){if(this.cadastroForm.valid){if(this.cadastroForm.get("senha").value===this.cadastroForm.get("senhaConfirmacao").value){const r=this.cadastroForm.get("email").value;this.buscarEmail(r)}else this.toastService.showToast("As senhas digitadas nao conferem. Verifique-as por favor.")}}buscarEmail(r){this.appService.buscaUsuarioEmail(r).subscribe(r=>{this.verificaUsuario(r.body)},r=>{this.dialogErroService.showMensagemErroDialog(r)})}verificaUsuario(r){if(null==r){const r=this.criaObjetoUsuario(l.a.APLICATIVO_WEB);this.cadastraUsuarioWebService(r)}else this.toastService.showToast("E-mail j\xe1 cadastrado.")}cadastraUsuarioWebService(r){this.appService.postCadastraUsuario(r).subscribe(r=>{this.exibeMensagemCadastroSucessoInativo()},r=>{this.dialogErroService.showMensagemErroDialog(r)})}criaObjetoUsuario(r){const e=this.cadastroForm.get("nome").value,a=this.cadastroForm.get("email").value,n=m.a.criptografaSenha(this.cadastroForm.get("senha").value);let t;return t=Object(d.stringify)(e).length>l.a.TAMANHO_MAX_NOME?Object(d.stringify)(e).substring(0,l.a.TAMANHO_MAX_NOME):e,{nome:t,email:a,senha:n,telefone:"",ativo:!1,localCadastro:r}}exibeMensagemCadastroSucessoInativo(){this.dialogConfirmacao.openDialog(l.a.TEXTO_ATIVACAO_CADASTRO,""),this.dialogConfirmacao.confirmed().subscribe(r=>{m.a.clearSessionStorage(),this.router.navigate(["login"])})}getPlanoFundo(){this.appService.getPlanoFundo().subscribe(r=>{this.urlPlanoFundo=r.body.urlImagem,s("app-cadastro").css("background-image","url("+this.urlPlanoFundo+")"),s("app-cadastro").css("background-size","cover")},r=>{this.dialogErroService.showMensagemErroDialog(r)})}moverPainel(r){s(r).on("mousedown",(function(r){s(this).addClass("active");var e=r.pageY-s(".active").offset().top,a=r.pageX-s(".active").offset().left;return s(this).parents().on("mousemove",(function(r){s(".active").offset({top:r.pageY-e,left:r.pageX-a,position:"relative"})})),s(this).on("mouseup",(function(){s(this).removeClass("active")})),!1}))}};h.ctorParameters=()=>[{type:c.f},{type:u.a},{type:f.a},{type:p.a},{type:g.a}],h=n.b([Object(t.o)({selector:"app-cadastro",template:n.c(a("/dgT")).default,animations:[Object(o.n)("Fading",[Object(o.k)("void",Object(o.l)({opacity:0})),Object(o.m)(":enter",Object(o.e)("1.5s ease-out"))])],styles:[n.c(a("4ke/")).default]})],h);const b=[{path:"",component:h}];let v=class{};v=n.b([Object(t.L)({imports:[c.g.forChild(b)],exports:[c.g]})],v);var k=a("SVse"),w=a("vWh4");a.d(e,"CadastroModule",(function(){return y}));let y=class{};y=n.b([Object(t.L)({declarations:[h],imports:[k.b,v,w.a,i.e,i.j]})],y)},"4ke/":function(r,e,a){"use strict";a.r(e),e.default=":host {\r\n  display: -webkit-box;\r\n  display: flex;\r\n  -webkit-box-pack: center;\r\n          justify-content: center;\r\n}\r\n\r\n.mat-form-field {\r\n  width: 100%;\r\n}\r\n\r\n.card-backgroud {\r\n  background-color: #303030;\r\n  margin-top: 6%;\r\n  margin-bottom: 10%;\r\n}\r\n\r\n.card-title {\r\n  color: white;\r\n}\r\n\r\n.div-center {\r\n  text-align: center;\r\n  margin-top: 5px;\r\n}\r\n\r\n.card-image {\r\n  max-width: 40%;\r\n  max-height: 40%;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.card-button {\r\n  background-color: #5A5A5C; width: 100%; color: white;\r\n}\r\n\r\n.card-form {\r\n  width: 100%\r\n}\r\n\r\n.card-button-link {\r\n  background-color: #303030; color: white;\r\n}\r\n\r\n.active {\r\n  cursor: move;\r\n}\r\n\r\nmat-card-title,\r\nmat-card-content {\r\n  display: -webkit-box;\r\n  display: flex;\r\n  -webkit-box-pack: center;\r\n          justify-content: center;\r\n}\r\n\r\n::ng-deep .mat-form-field .mat-input-element {\r\n  color: gray;\r\n}\r\n\r\n::ng-deep .mat-form-field .mat-form-field-label {\r\n  color: gray!important;\r\n}\r\n\r\n::ng-deep .mat-form-field .mat-form-field-underline {\r\n  background-color: gray;\r\n}\r\n\r\n::ng-deep .mat-form-field .mat-form-field-ripple {\r\n  background-color: gray;\r\n}\r\n\r\n::ng-deep .mat-form-field .mat-form-field-required-marker {\r\n  color: gray;\r\n}\r\n\r\n::ng-deep .mat-form-field.mat-focused .mat-form-field-label {\r\n  color: white!important;\r\n}\r\n\r\n::ng-deep .mat-form-field.mat-focused .mat-form-field-ripple {\r\n  background-color: white;\r\n}\r\n\r\n::ng-deep .mat-form-field.mat-focused .mat-form-field-required-marker {\r\n  color: white;\r\n}\r\n\r\n::ng-deep .mat-form-field.mat-focused .mat-input-element {\r\n  color: white;\r\n}\r\n\r\n::ng-deep .mat-form-field.mat-form-field-invalid .mat-input-element {\r\n  color: red;\r\n}\r\n\r\n::ng-deep .mat-form-field.mat-form-field-invalid .mat-form-field-label {\r\n  color: red!important;\r\n}\r\n\r\n::ng-deep .mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker {\r\n  color: red;\r\n}\r\n\r\n::ng-deep .mat-form-field.mat-form-field-invalid .mat-form-field-ripple {\r\n  background-color: red;\r\n}\r\n"}}]);